<!DOCTYPE html>
<html lang="en">
<head>
	<title>Machine Learning R&amp;D in containers</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="node_modules/shower-ribbon/styles/screen-16x10.css">
	<style>
	.slide::after {
		display: none !important;
	}
	</style>
</head>
<body class="shower list">

	<header class="caption">
		<h1>Machine Learning R&amp;D in containers</h1>
		<p>Vadim Markovtsev, <a href="http://sourced.tech">source{d}</a></p>
	</header>

	<section class="slide" id="cover">
		<h2>Machine Learning R&amp;D in containers</h2>
		<p>Vadim Markovtsev, <a href="http://sourced.tech">source{d}</a></p>
		<img src="pictures/qrcode.svg" id="qr">
		<figure>
			<img class="cover" src="pictures/cover.jpg" alt="Container City 2 at Trinity Buoy Wharf, London">
		</figure>
		<style>
			#cover h2 {
				margin: 30px 0 0;
				color: #FFF;
				text-align: center;
				font-size: 70px;
				}
			#cover p {
				margin: 0px 0 0;
				text-align: center;
				color: #FFF;
				font-style: italic;
				font-size: 20px;
			}
			#cover p a {
				color: #FFF;
				background: none !important;
			}
			#cover figure > img {
				filter: brightness(0.6);
				object-fit: cover;
				width: 100%;
			}
			#qr {
				margin-left: auto;
				margin-right: auto;
				display: table;
			}
		</style>
	</section>

	<section class="slide">
		<h2>Introduction</h2>
		<ul>
			<li>I am not a professional devops!</li>
			<li>But I am a fan of doing things right.</li>
			<li>Coding during the last 10 years.</li>
			<li>Machine Learning lead at source{d}.</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Machine learning tasks at source{d}</h2>
		<ul>
			<li>Much Python. So Jupyter. Very notebook.</li>
			<li>Constant (long-running) experiments.</li>
			<li>Sharing the results.</li>
			<li>Storing big datasets.</li>
			<li>Development speed matters. Performance matters. Stability matters.</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Infra problems of machine learning</h2>
		<ol>
			<li>Environment zoo.</li><!-- different people -->
			<li>Environment hell.</li><!-- no proper isolation in virtualenv is possible  -->
			<li>Updates.</li><!-- always having the fresh versions -->
			<li>GPGPU/CUDA setup.</li><!-- driver - userspace match -->
			<li>Using the fastest libs.</li><!-- numpy + MKL -->
		</ol>
	</section>

	<section class="slide">
		<img src="pictures/what_do_we_want.png" class="fullpage">
		<style>
		  .fullpage {
				margin: -80px auto 0 auto;
				display: table;
			}
		</style>
	</section>

	<section class="slide">
		<h2>Plan</h2>
		<ul>

		</ul>
	</section>

	<section class="slide">
		<h2>CoreOS gotchas</h2>
		<ol>
			<li>OS reboot => automatic kernel update.</li>
			<li>Current NVIDIA driver does not support the new kernel => update.</li>
			<li>NVIDIA driver update => rebuild <span class="mono">nvidia-driver.</span></li>
			<li><span class="mono">nvidia-driver</span> changed => rebuild everything else from scratch.</li>
			<li>apt-get mirror sync problem / temporary PyPi timeout / ...</li>
		</ol>
		<p class="note">Disable automatic CoreOS updates.</p>
		<img src="pictures/wasted.png" class="wasted">
		<style>
		.mono {
			font-family: monospace;
		}
		.wasted {
			position: absolute;
			right: 200px;
			bottom: 100px;
		}
		</style>
	</section>

	<section class="slide">
		<h2>CoreOS gotchas</h2>
		<ol>
			<li>No userspace environment.</li>
			<li>He-he, forget about the GUI. NVIDIA Visual Profiler? gitk? Impossible.</li>
			<li><span class="mono">toolbox</span> is Fedora; can be easily changed to Ubuntu though.</li>
			<li><span class="mono">toolbox</span> <a href="">bug #</a> prevents it from normal operation in many cases.</li>
			<li>What about long-running interactive remote SSH sessions?</li>
		</ol>
		<p class="note">tmux, nano, etc. can be installed to<br><span class="mono">/opt/bin</span> from <a href="http://s.minos.io/">s.minos.io</a>.</p>
		<img src="pictures/wasted.png" class="wasted">
	</section>

	<div class="progress"></div>

	<script src="node_modules/shower-core/shower.min.js"></script>
</body>
</html>
